<div class="d-flex flex-row">

  <div class="chart"
    style="margin-left: 20px; margin-top: 10px; margin-bottom: 20px; text-align: center; padding: 20px; background: rgb(255, 255, 255); width: 40%; border-radius: 5px;">
    <h2 style="color: rgb(0, 0, 0);">Products per category</h2>
    <canvas baseChart [data]="productspercategory" [labels]="categories" chartType="pie" [options]="pieChartOptions"
      [plugins]="pieChartPlugins" legend="true" [colors]="pieChartColors">
    </canvas>
  </div>

  <div class="d-flex flex-column"
    style="background: rgb(255, 255, 255); width: 16%; padding: 15px; margin-bottom: 20px; margin-top:10px; border-radius: 5px; margin-left: 20px; text-align: center;">
    <h2 style="color:rgb(0, 0, 0)">Total products</h2>
    <div>
      <ng9-odometer style="color: rgb(0, 0, 0); font-size: 20px; border: none;" [number]="this.totalproducts"
        [config]="{ auto: true, theme: 'default' }">
      </ng9-odometer>
    </div>
    <br>
    <h2 style="color:rgb(0, 0, 0)">Total users</h2>
    <div>
      <ng9-odometer style="color: rgb(0, 0, 0); font-size: 20px; border: none;" [number]="this.totalusers"
        [config]="{ auto: true, theme: 'default' }">
      </ng9-odometer>
    </div>
    <br>
    <h2 style="color:rgb(0, 0, 0)">Total revenue</h2>
    <div>
      <h3 style="position: absolute;">&#8377;</h3>
      <ng9-odometer style="color: rgb(0, 0, 0); font-size: 25px; border: none;" [number]="this.totalrevenue"
        [config]="{ auto: true, theme: 'default' }">
      </ng9-odometer>
    </div>
  </div>

  <div class="d-flex flex-column"
    style="background: rgb(255, 255, 255); width: 40%; padding: 20px; margin-bottom: 20px; margin-top:10px; border-radius: 5px; margin-left: 20px;margin-right: 20px ;text-align: center;">
    <div style="display: block">
      <h2 style="color: rgb(0, 0, 0);">Sales per category</h2>
      <canvas baseChart [data]="salespercategory" [colors]="doughnutChartColors" [labels]="categories"
        chartType="doughnut" [options]="doughnutChartOptions">
      </canvas>
    </div>
  </div>

</div>

<div class="d-flex flex-row" style="margin-bottom: 20px;">

  <div class="d-flex flex-column" style="margin-left: 20px; text-align: center;  width: 50%;">
    <div style="border-radius: 5px;background: rgb(255, 255, 255);padding:20px; padding-bottom: 10px;">
      <h2 style="color: rgb(0, 0, 0);">Stock count</h2>
      <canvas baseChart [datasets]="barChartData" [labels]="productnames" [options]="barChartOptions"
        [plugins]="barChartPlugins" [colors]="barChartColors" legend="true" chartType="bar">
      </canvas>
    </div>
    <div style="padding:20px;border-radius: 5px;margin-top: 20px;background: rgb(255, 255, 255);">
      <h2 style="color: rgb(0, 0, 0);">Number of subcategories per category</h2>
      <canvas baseChart [data]="subcatcount" [labels]="cat" [colors]="polarChartColors" [options]="polarChartOptions"
        legend="true" chartType="polarArea">
      </canvas>
    </div>
  </div>

  <div
    style="margin-left: 20px; text-align: center; margin-right: 20px; padding:20px; padding-bottom: 10px; background: rgb(255, 255, 255); width: 50%;  border-radius: 5px;">
    <h2 style="color: rgb(0, 0, 0);">Purchase count per user</h2>
    <canvas baseChart width="400" height="400" [datasets]="lineChartData" [labels]="usernames"
      [options]="lineChartOptions" [colors]="lineChartColors" legend="true" chartType="line"></canvas>
  </div>

</div>

<div style="padding-right: 40px; text-align: center;">
  <h2 style="color: rgb(255, 255, 255);">Most in-demand products</h2>

  <table *ngIf="dataSource!=[]" style="width: 100%; margin:20px;" mat-table [dataSource]="dataSource"
    class="mat-elevation-z8">
    <ng-container matColumnDef="position">
      <th mat-header-cell *matHeaderCellDef> No. </th>
      <td mat-cell *matCellDef="let element"> {{element.position}} </td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell *matHeaderCellDef> Name </th>
      <td mat-cell *matCellDef="let element"> {{element.name}} </td>
    </ng-container>

    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let element"> {{element.price}} </td>
    </ng-container>


    <ng-container matColumnDef="sold">
      <th mat-header-cell *matHeaderCellDef> Sold </th>
      <td mat-cell *matCellDef="let element"> {{element.sold}} </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>
<!-- <div
    style=" height: 300px;" class="parallax">
  </div>
  <div>
    hihihi
  </div> -->
<!-- <div>
  <button mat-button mat-raised-button color="primary" (click)="pieChartLegend=!pieChartLegend">Toggle Legend</button>
  <button mat-button mat-raised-button color="primary" (click)="changeLabels()">Change Labels</button>
  <button mat-button mat-raised-button color="primary" (click)="addSlice()">Add Slice</button>
  <button mat-button mat-raised-button color="primary" (click)="removeSlice()">Remove Slice</button>
  <button mat-button mat-raised-button color="primary" (click)="changeLegendPosition()">Change Legend Position</button>
</div> -->
